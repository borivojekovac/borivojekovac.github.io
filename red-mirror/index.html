<!DOCTYPE html>
<html lang="en">
    <head>
        
        <title>Red Mirror - Basic AI Reflection Playground</title>

        <link rel="manifest" href="./manifest.json">

        <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta name="msapplication-TileColor" content="#3D3D4D">
        <meta name="msapplication-config" content="browserconfig.xml">
        <meta name="theme-color" content="#F2CA79">
        <meta name="google" value="notranslate">
        <meta name="description" content="Red Mirror - Basic AI Reflection Playground">

        <link rel="stylesheet" href="./css/app.css">

    </head>
    <body>

        <div id="appContainer">

            <button id="buttonPlay">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="shadow">
                    <rect width="100" height="100" fill="lightgray" />
                    <polygon points="30,20 80,50 30,80" fill="black" />
                </svg>
            </button>

            <div id="processing">
            </div>

            <div id="heading" class="section shadow">
                <div class="container">
                    <!--<svg id="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M240-80v-172q-57-52-88.5-121.5T120-520q0-150 105-255t255-105q125 0 221.5 73.5T827-615l52 205q5 19-7 34.5T840-360h-80v120q0 33-23.5 56.5T680-160h-80v80h-80v-160h160v-200h108l-38-155q-23-91-98-148t-172-57q-116 0-198 81t-82 197q0 60 24.5 114t69.5 96l26 24v208h-80Zm254-360Zm-54 80h80l6-50q8-3 14.5-7t11.5-9l46 20 40-68-40-30q2-8 2-16t-2-16l40-30-40-68-46 20q-5-5-11.5-9t-14.5-7l-6-50h-80l-6 50q-8 3-14.5 7t-11.5 9l-46-20-40 68 40 30q-2 8-2 16t2 16l-40 30 40 68 46-20q5 5 11.5 9t14.5 7l6 50Zm40-100q-25 0-42.5-17.5T420-520q0-25 17.5-42.5T480-580q25 0 42.5 17.5T540-520q0 25-17.5 42.5T480-460Z"/></svg>-->
                    <svg id="icon" viewBox="0 0 92 112" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M43.6749 13.4651L36.0342 5.87374C28.1471 -1.95791 15.3737 -1.95791 7.49279 5.87374L5.9215 7.43267C-1.96561 15.2643 -1.96561 27.9638 5.9215 35.7893L6.3467 36.2144C9.85277 39.6959 14.1414 42.2777 18.812 43.9475C39.4479 51.3232 39.0043 61.2745 18.6826 68.2004C14.1167 69.7532 9.92055 72.2425 6.50075 75.6315L5.91533 76.2107C-1.97178 84.0424 -1.97178 96.7418 5.91533 104.567L7.48662 106.126C15.3737 113.958 28.1471 113.958 36.028 106.126L43.6687 98.5349C51.5496 90.7033 51.5496 78.0038 43.6687 70.1783C35.7816 62.3466 35.7816 49.6472 43.6687 41.8217C51.5496 33.9901 51.5496 21.2906 43.6687 13.4651H43.6749Z" fill="#FF5640"/>
                        <path d="M45.9917 56.0061C45.9917 62.7102 58.8637 77.1596 70.3616 77.1596C81.8596 77.1596 91.6506 67.6889 91.6506 56.0061C91.6506 44.3234 82.1245 34.8527 70.3616 34.8527L45.9917 56.0061Z" fill="#FF5640"/>
                        <path d="M45.9917 56.0061C45.9917 49.3021 58.8637 34.8527 70.3616 34.8527C81.8596 34.8527 91.6506 44.3234 91.6506 56.0061C91.6506 67.6889 82.1245 77.1596 70.3616 77.1596L45.9917 56.0061Z" fill="#FF5640"/>
                        </svg> 
                    <span>
                        <span>Red Mirror</span><br>An agentic AI reflection pattern playground.
                    </span>
                    <div class="switch">
                        <label for="switchDebug">Debug</label>
                        <input id="switchDebug" type="checkbox" role="switch" checked>
                    </div>
                    <div class="switch">
                        <label for="switchControlPanel">Config</label>
                        <input id="switchControlPanel" type="checkbox" role="switch" checked>
                    </div>
                </div>
            </div>

            <div id="controlPanel">
                <div id="chatGPTApiKey" class="container halfWidth">
                    <label>OpenAI API key:</label>
                    <input id="inputChatGPTApiKey" type="password" placeholder="Paste you OpenAI API key here first.">
                </div>
                <div id="baseModel" class="container" title="OpenAI model to use for creator and reviewer agents.">
                    <label>Base model:</label>
                    <select id="comboBaseModel">
                        <option value="gpt-3.5-turbo">3.5 turbo</option>
                        <option value="gpt-4">4</option>
                        <option value="gpt-4-turbo">4 turbo</option>
                        <option value="gpt-4o" selected>4o</option>
                        <option value="gpt-4o-mini">4o mini</option>
                    </select>
                </div>
                <div id="sentimentModel" class="container" title="OpenAI model to use for reviewer sentiment checking agent.">
                    <label>Sentiment model:</label>
                    <select id="comboSentimentModel">
                        <option value="gpt-3.5-turbo" selected>3.5 turbo</option>
                        <option value="gpt-4">4</option>
                        <option value="gpt-4-turbo">4 turbo</option>
                        <option value="gpt-4o">4o</option>
                        <option value="gpt-4o-mini">4o mini</option>
                    </select>
                </div>
                <div id="temperature" class="container" title="Temperature parameter for creator and reviewer agents.">
                    <label>Temperature:</label>
                    <input id="inputTemperature" type="number" placeholder="Decimal from 0 to 1 here">
                </div>
                <div id="maxTokens" class="container" title="Max tokens window for creator and reviewer agents.">
                    <label>Max tokens:</label>
                    <input id="inputMaxTokens" type="number" placeholder="Integer here, limited by the model used">
                </div>
                <div id="maxIterations" class="container" title="Max attempts for creator to receive a positive sentiment from reviewer.">
                    <label>Max review iterations:</label>
                    <input id="inputMaxIterations" type="number">
                </div>
                <div id="creatorPersona" class="container fullWidth" title="Instructs creator on how to act.">
                    <label>Creator persona:</label>
                    <textarea id="inputCreatorPersona" type="text"></textarea>
                </div>
                <div id="reviewerPersona" class="container fullWidth" title="Instructs reviewer on how to act.">
                    <label>Reviewer persona:</label>
                    <textarea id="inputReviewerPersona" type="text"></textarea>
                </div>
                <div id="sentimentCheckerPersona" class="container fullWidth" title="Instructs reviewer sentiment checker on how to act.">
                    <label>Sentiment checker persona:</label>
                    <textarea id="inputSentimentCheckerPersona" type="text"></textarea>
                </div>
            </div>

            <div id="creatorPrompt" class="container fullWidth" title="Primary prompt.">
                <label>Creator prompt:</label>
                <textarea id="inputCreatorPrompt" type="text"></textarea>
            </div>
            <div id="reviewerPrompt" class="container fullWidth" title="Creator output is fed to reviewer along with reviewer prompt to judge on the quality of creator's output. Reviewer's output is sent to the sentiment agent, which checks whether reviewer provided positive or negative response. If the response was negative, the whole discussion is fed back to creator, otherwise creator's output is considered good.">
                <label>Reviewer prompt:</label>
                <textarea id="inputReviewerPrompt" type="text"></textarea>
            </div>

            <div id="responseText" class="container fullWidth">
            </div>

        </div>

        <script type="module" src="./js/app.js"></script>
        
    </body>
</html>